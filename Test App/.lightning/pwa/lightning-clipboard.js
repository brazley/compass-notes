// lightning-clipboard.js â€” generated by Lightning for Notes
(function() {
  'use strict';
  if (!window.lightning) return;

  window.lightning.clipboard = {
    version: '0.1.0',

    isAvailable: function() {
      return !!(navigator.clipboard);
    },

    writeText: function(text) {
      if (navigator.clipboard && navigator.clipboard.writeText) {
        return navigator.clipboard.writeText(text);
      }
      // Legacy fallback
      try {
        var el = document.createElement('textarea');
        el.value = text;
        el.style.position = 'fixed';
        el.style.opacity = '0';
        document.body.appendChild(el);
        el.select();
        document.execCommand('copy');
        document.body.removeChild(el);
        return Promise.resolve();
      } catch(e) {
        return Promise.reject(e);
      }
    },

    readText: function() {
      if (navigator.clipboard && navigator.clipboard.readText) {
        return navigator.clipboard.readText();
      }
      return Promise.reject(new Error('Clipboard read not supported'));
    },

    write: function(items) {
      if (navigator.clipboard && navigator.clipboard.write) {
        return navigator.clipboard.write(items);
      }
      return Promise.reject(new Error('Clipboard write not supported'));
    }
  };
})();